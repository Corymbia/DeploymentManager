<div class="row alerts-container" data-ng-controller="AlertsCtrl" data-ng-show="alerts.length">
  <div class="col-xs-12">
    <alert data-ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
  </div>
</div>

<div class="row" data-ng-controller="DashCtl" ng-init="refresh_machines()">
	<div class="col-lg-4 col-md-4 col-xs-12">
		<rd-widget>
			<rd-widget-body>
				<div class="widget-icon green pull-left">
					<i class="fa fa-tasks"></i>
				</div>
				<div class="title">{{free_machines.length}}</div>
				<div class="comment">Free Machines</div>
			</rd-widget-body>
		</rd-widget>
	</div>
  <div class="col-lg-4 col-md-4 col-xs-12">
		<rd-widget>
			<rd-widget-body>
				<div class="widget-icon orange pull-left">
					<i class="fa fa-tasks"></i>
				</div>
				<div class="title">{{in_use.length}}</div>
				<div class="comment">In Use</div>
			</rd-widget-body>
		</rd-widget>
	</div>
	<div class="col-lg-4 col-md-4 col-xs-12">
		<rd-widget>
			<rd-widget-body>
				<div class="widget-icon red pull-left">
					<i class="fa fa-tasks"></i>
				</div>
				<div class="title">{{pxe_failed.length}}</div>
				<div class="comment">PXE Failed</div>
			</rd-widget-body>
		</rd-widget>
	</div>
</div>
<div class="row">
	<div class="col-lg-12" ng-controller="DashCtl" ng-init="refresh_machines()">
		<rd-widget>
      <rd-widget-header icon="fa-tasks" title="Servers"/>

      </rd-widget-header>
      <rd-widget-body classes="no-padding">
  			<div class="table-responsive">
  				<table class="table">
            <thead>
  						<tr><th class="text-center">Hostname</th><th>Owner</th><th>Job ID</th><th><input ng-model="filterText" type="search" placeholder="Filter..." autofocus></th></tr>
  					</thead>
  					<tbody>
              <tr ng-repeat="server in in_use | filter:filterText">
                <td class="text-center">{{ server.hostname }}</td>
                <td>{{ server.owner }}</td>
                <td>{{ server.job_id }}</td>
                <td><button class="btn btn-sm btn-danger" ng-click="open(server);">Free</button></td>
              </tr>
  					</tbody>
  				</table>
  			</div>
			</rd-widget-body>
		</rd-widget>
	</div>
</div>
